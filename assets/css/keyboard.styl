@import 'nib'

.octave
    display inline-block
    padding 6px 4px
    margin 0 
    border-top 1px solid hsl(0, 0%, 48%)

.octave.alt
    background-color hsl(0, 0%, 99%)
    border-top-width 3px
    padding-top 4px

transition()
    vendor('transition', arguments)

vhintcolor = hsl(246, 30%, 85%)
semipress_color = hsl(10, 0, 84)
press_color = hsl(200, 10, 76)
unpressed_color = hsl(200, 10, 95)

btn_highlight(color)
    box-shadow inset 0px -50px 40px -30px color 

#keys
    margin 10px 30px
    min-width 400px
    *
        user-select none
    .key
        link()
        background-color #fdfdfd
        background linear-gradient(left, #fafafa, #fff)
        color hsl(0, 0%, 20%)
        display inline-block
        padding 20px 1px
        margin 3px 
        font normal 9pt sans
        text-align center
        border 1px solid silver
        width 23px
        overflow hidden
        // transition all 20ms ease-out
        text-shadow 0px 1px 1px silver * 1.2
        .tone, .tone_shift
            font normal 5pt sans
            padding-top 5px
            color silver
            text-shadow 0px 0px 1px white
        .tone_shift
            // hidden by default
            display none 
        .note_name
            font normal 7pt monospace
            padding-top 12px
            color #777
            text-shadow 0px 1px 1px white
        &.pressed, &.pressed.semi_pressed
            btn_highlight(press_color)
            border-color silver * 0.8
            color hsl(300, 20%, 10%)
            .tone
                color silver * 0.9
            .notename
                color #666
        &.semi_pressed
            btn_highlight(semipress_color)
            color hsl(0, 0, 30)
        &.unpressed 
            btn_highlight(unpressed_color)
            // transition all 300ms ease-out
        &.vhint
            box-shadow inset 0px -50px 40px -30px vhintcolor 
            // transition all 20ms ease-out

