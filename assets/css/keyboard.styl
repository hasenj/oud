@import 'nib'

transition()
    vendor('transition', arguments)

unpressed_color = hsl(20, 80, 95)
semipress_color = hsl(40, 60, 87)
press_color = hsl(40, 77, 80)

btn_highlight(color)
    // box-shadow inset 0px -50px 40px -30px color 
    background-color color

#keys
    *
        user-select none
    .row
      // margin 1px 4px
      .key
        link()
        display inline-block
        padding 25px 9px
        padding-bottom 8px
        margin 1px 
        background-color hsl(20, 30, 90)
        font normal 9pt sans
        text-align center
        width 35px
        overflow hidden
        text-shadow 0px 0px 2px silver * 1.2
        .kb_key
          background-color #fdfdfd
          border 2px solid hsl(40, 70, 50)
          border-radius 25px
          padding 5px 5px
          font-family ubuntu
          font-size 7pt
          color hsl(50, 70, 30)
          line-height 18px
        .tone
            font normal 5pt sans
            padding-top 4px
            color silver
            text-shadow 0px 0px 2px 1px hsl(50, 80, 90)
        .note_name
            font normal 14px monospace
            line-height 58px
            padding-top 2px
            color hsl(270, 20, 60)
            // text-shadow 0px 1px 1px white
        &.outside_octave
           background-color hsl(20, 30, 85)
        &.pressed
            color hsl(300, 20%, 10%)
            background-color hsl(90, 40, 80)
            .kb_key
              btn_highlight(press_color)
              border-color hsl(40, 70, 48) 
              color hsl(50, 70, 20)
            .tone
                color silver * 0.9
            .note_name
              font-size 16px
        &.semi_pressed
            background-color hsl(90, 10, 84)
            .kb_key
              btn_highlight(semipress_color)
              border-color hsl(40, 70, 52) 
              color hsl(50, 70, 20)
        &.unpressed 
            .kb_key
              btn_highlight(unpressed_color)

